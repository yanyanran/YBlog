## 特权级之CPL、DPL、RPL

CPL：针对**处理器**而言的概念，`当前进程的权限级别`，也就是正在执行代码所在段的特权级，存在*cs寄存器低2位*

RPL：**真正请求者**的特权级。`进程对段访问的请求权限`，位于**段选择子**（选择放在选择子里很巧妙，因为处理器的特权检查往往发生在**往段寄存器中加载段选择子访问描述符**的时候，也就是访问数据/代码段的前一瞬间），cs中的RPL=CPL【每个段的**RPL不固定**】

> **对于CPL和RPL，他俩可能是对于同一个程序而言的也可能不是。**
>
> CPL是对于当前正在运行的程序而言的，而**RPL**有可能是正在运行的程序（正常情况），也**可能不是（涉及“委托、代理”）**。
>
> 但凡涉及代理、委托，进入0特权级后，CPL指的就是代理人=>内核，而RPL是**委托人**=>**用户程序**/内核自己。

DPL：**权限门槛（进入的最低权限）**。规定`访问该段的权限级别`，存在*段描述符*（cs中的选择子通过GDT找到对应的段描述符）中【每个段的**DPL固定**】



> [例子]
>
> 中国官员分为6级国家主席1、总理2、省长3、市长4、县长5、乡长6
>
> 假设当前进程是级别总理（CPL=2），去城市(DPL=4)考察，我用省长的级别(RPL=3 )去访问，可以
>
> 如果我用县长的级别（RPL=5），就考察不了